<div class="d-flex flex-no-wrap flex-grow-1" id="wrapper" style="overflow-x: hidden;">
    <!-- Default sidebar -->
    @if(!excludeSidebar)
    {
        <ng-content #sidebar> 
            <div class="d-flex flex-column flex-shrink-0 p-2 text-bg-dark col-2" style="z-index: 10;" id="sidebar" [class.collapse]="isCollapsed">
                <div class="flex-grow-1">
                @if (hasCustomSidebar())
                {
                        <ng-container *ngTemplateOutlet="sidebarTemplate">
                            <ng-content select="sidebar-internal"></ng-content>
                        </ng-container>
                }
                @else
                {
                        <ccnextgen-sidebar [items]="sidebarItems" [beforeMenu]="sidebarBeforeMenu" [afterMenu]="sidebarAfterMenu">
                            <ng-content select="sidebar-internal"></ng-content>
                        </ccnextgen-sidebar>
                }
                </div>
                <div [class]="{'text-center': isCollapsed,'text-end': !isCollapsed}">
                    <button type="button" class="text-white border-0 outline-0 bg-transparent" (click)="toggleSidebar()">
                        @if(isCollapsed)
                        {
                            <span class="material-symbols-outlined">keyboard_double_arrow_right</span>
                        }
                        @else {
                            <span class="material-symbols-outlined">keyboard_double_arrow_left</span>
                        }
                    </button>
                </div>
            </div>
        </ng-content>
}

    <div class="flex-grow-1">
    @if(hasCustomTopbar())
    {
        <div class="topbar bg-secondary-subtle p-3 shadow-sm px-5 w-100" style="border-bottom: 1px solid rgba(0,0,0,.05)" id="topmenu">
            <ng-container *ngTemplateOutlet="topbarTemplate" class="w-100"></ng-container>
        </div>
    }

    @if(containerFluid)
    {
        <div class="container-fluid">
            <main role="main" class="py-3">
                <router-outlet></router-outlet>
            </main>
        </div>
    }
    @else {
        <div class="container">
            <main role="main" class="py-3">
                <router-outlet></router-outlet>
            </main>
        </div>
    }
    </div>
</div>